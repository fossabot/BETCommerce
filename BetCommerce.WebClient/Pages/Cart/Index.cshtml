@page
@model BetCommerce.WebClient.Pages.Cart.IndexModel
@{
    ViewData["Title"] = "Shopping Cart";
}
<div class="ui  container">
    <div class="ui horizontal divider"><i class="shop icon"></i> CART</div>
    @{
        if (!string.IsNullOrWhiteSpace(Model.ErrorResponse))
        {
            <div class="ui tiny negative message"><b>@(Model.ErrorResponse)</b></div>
        }
    }

    @{
        if (Model.CartItems == null || Model.CartItems.Count == 0)
        {
            <div class="ui message icon">
                <i class="clone outline icon"></i>
                <div class="content">
                    <p align="center">
                        It looks like you shopping cart is Empty, how about <a href="~/shop"> Start Shopping</a>
                    </p>
                    <a class="ui button " href="~/shop"><i class="cart icon"></i>Start Shopping</a>
                </div>
            </div>
        }
        else
        {
            <div class="ui attached tiny success message">
                The following items are ready for you to checkout
            </div>
            <form class="ui small form" id="cart_panel" method="POST" action="check_out/">
                <input type="hidden" name="check_out" value="cart">
                <table id="data_table" class="ui celled  selectable attached table">

                    <thead><tr><th>No</th><th>Item</th><th>Qty</th><th>Rate</th><th>Total Price</th><th>Remove</th></tr></thead>
                    <tbody>
                        @foreach (var record in Model.CartItems)
                        {
                            <tr><td>1</td><td>@record.ProductName</td><td>@string.Format("{0:N0}", record.Quantity)</td><td>@string.Format("{0:N2}", record.Rate)</td><td>@string.Format("{0:N2}", record.TotalCost)</td><td> <div title="Remove Item" class="ui small negative basic icon button" onclick="location.href='@string.Format("/cart/removeitem/{0}", record.ProductId)'"><i class="close icon"></i></div></td></tr>
                        }
                        <tr><td colspan="4"><p align="center"><a style="font-weight:bold"><i class="money icon"></i>TOTAL AMOUNT: </a></p></td><td><h4> @string.Format("{0:N2}", Model.TotalAmount)</h4></td><td><button class="ui green right labeled icon  button">Check Out<i class="cart icon"></i></button></td> </tr>
                    </tbody>
                </table>
            </form>

            <div class="ui bottom attached warning tiny message">End of All Shopping cart Items</div>

        }
    }


    <div class="ui horizontal divider"><i class="shop icon"></i> CART</div>
</div>